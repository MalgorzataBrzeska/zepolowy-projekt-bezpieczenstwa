<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Raport bezpieczeÅ„stwa</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
<div class="container">
    <h1>ğŸ“„ Raport bezpieczeÅ„stwa</h1>

    {% if data.error %}
        <div class="error">
            {{ data.error }}
            {% if data.details %}
                <br><small>{{ data.details }}</small>
            {% endif %}
        </div>

    {% elif mode == "files" %}
        <p><strong>ğŸ“‚ ÅšcieÅ¼ka:</strong> {{ data.path }}</p>
        <p><strong>ğŸ“Š PlikÃ³w przeskanowanych:</strong> {{ data.files_scanned }}</p>

        <div class="card">
            {% for f in data.files %}
                <div class="file">
                    <strong>{{ f.file }}</strong><br>
                    <small class="hash">{{ f.sha256 }}</small>

                    {% if f.suspicious %}
                        <div class="alert">
                            âš  Wykryte wzorce: {{ f.suspicious }}
                        </div>
                    {% endif %}
                </div>
            {% endfor %}
        </div>

    {% elif mode == "network" %}
        <p><strong>ğŸŒ Host:</strong> {{ data.host }}</p>
        <p><strong>ğŸ”“ Otwarte porty:</strong></p>

        {% if data.open_ports %}
            <ul class="ports">
                {% for p in data.open_ports %}
                    <li>Port {{ p }}</li>
                {% endfor %}
            </ul>
        {% else %}
            <p>Brak otwartych portÃ³w</p>
        {% endif %}

    {% elif mode == "system" %}
        <ul class="system">
            {% for k, v in data.items() %}
                <li><strong>{{ k }}:</strong> {{ v }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <form method="POST" action="/save">
        <button class="save-btn">ğŸ’¾ Zapisz raport do JSON</button>
    </form>

    <a class="back" href="/">â† PowrÃ³t</a>
</div>
</body>
</html>
